{"ast":null,"code":"import _slicedToArray from\"/Users/derekschinke/Documents/Developer/Practicum by Yandex/Web Developer/dev/around-react/.yarn/cache/@babel-runtime-npm-7.12.1-b069f70b16-979d1c099c.zip/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from'react';import api from'../utils/api.js';import Card from'./Card.js';function Main(props){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),userAvatar=_React$useState2[0],setUserAvatar=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),userName=_React$useState4[0],setUserName=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),userDescription=_React$useState6[0],setUserDescription=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],setCards=_React$useState8[1];React.useEffect(function(){api.getUserInfo().then(function(res){setUserAvatar(res.avatar);setUserName(res.name);setUserDescription(res.about);}).catch(function(err){return console.log(err);});api.getInitialCards().then(function(res){return setCards(res.map(function(card){return{link:card.link,name:card.name,likes:card.likes};}));}).catch(function(err){return console.log(err);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"main\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__data\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{role:\"img\",\"aria-label\":\"\",className:\"profile__avatar\",style:{backgroundImage:\"url(\".concat(userAvatar,\")\")},onClick:props.onEditAvatar}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"aria-label\":\"Edit avatar\",className:\"button button_type_edit-avatar\",onClick:props.onEditAvatar})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__text\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:userName}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__job\",children:userDescription})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"aria-label\":\"Edit profile\",className:\"button button_type_edit\",onClick:props.onEditProfile})]})]}),/*#__PURE__*/_jsx(\"button\",{\"aria-label\":\"Add card\",className:\"button button_type_add\",onClick:props.onAddCard})]}),/*#__PURE__*/_jsx(\"section\",{className:\"places\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"places__list\",children:cards.map(function(card,index){return/*#__PURE__*/_jsx(Card,{link:card.link,name:card.name,likes:card.likes.length,onCardClick:function onCardClick(){return props.onCardClick(card);}},index);})})})]});}export default Main;","map":{"version":3,"sources":["/Users/derekschinke/Documents/Developer/Practicum by Yandex/Web Developer/dev/around-react/src/components/Main.js"],"names":["React","api","Card","Main","props","useState","userAvatar","setUserAvatar","userName","setUserName","userDescription","setUserDescription","cards","setCards","useEffect","getUserInfo","then","res","avatar","name","about","catch","err","console","log","getInitialCards","map","card","link","likes","backgroundImage","onEditAvatar","onEditProfile","onAddCard","index","length","onCardClick"],"mappings":"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","sourcesContent":["import React from 'react';\nimport api from '../utils/api.js';\nimport Card from './Card.js';\n\nfunction Main(props) {\n  const [userAvatar, setUserAvatar] = React.useState('');\n  const [userName, setUserName] = React.useState('');\n  const [userDescription, setUserDescription] = React.useState('');\n\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((res) => {\n        setUserAvatar(res.avatar);\n        setUserName(res.name);\n        setUserDescription(res.about);\n      })\n      .catch((err) => console.log(err));\n\n    api\n      .getInitialCards()\n      .then((res) =>\n        setCards(\n          res.map((card) => ({\n            link: card.link,\n            name: card.name,\n            likes: card.likes,\n          }))\n        )\n      )\n      .catch((err) => console.log(err));\n  }, []);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <div className=\"profile__data\">\n          <div>\n            <div\n              role=\"img\"\n              aria-label=\"\"\n              className=\"profile__avatar\"\n              style={{ backgroundImage: `url(${userAvatar})` }}\n              onClick={props.onEditAvatar}\n            ></div>\n            <button\n              type=\"button\"\n              aria-label=\"Edit avatar\"\n              className=\"button button_type_edit-avatar\"\n              onClick={props.onEditAvatar}\n            ></button>\n          </div>\n          <div className=\"profile__info\">\n            <div className=\"profile__text\">\n              <h1 className=\"profile__name\">{userName}</h1>\n              <p className=\"profile__job\">{userDescription}</p>\n            </div>\n            <button\n              type=\"button\"\n              aria-label=\"Edit profile\"\n              className=\"button button_type_edit\"\n              onClick={props.onEditProfile}\n            ></button>\n          </div>\n        </div>\n        <button\n          aria-label=\"Add card\"\n          className=\"button button_type_add\"\n          onClick={props.onAddCard}\n        ></button>\n      </section>\n\n      <section className=\"places\">\n        <ul className=\"places__list\">\n          {cards.map((card, index) => (\n            <Card\n              key={index}\n              link={card.link}\n              name={card.name}\n              likes={card.likes.length}\n              onCardClick={() => props.onCardClick(card)}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}